<div class="table-responsive-sm">
    <table class="table table-hover table-light">
        <thead class="thead-dark">
            <tr>
                <th scope="col">PublisherName</th>
                <th scope="col">Description</th>
                <th scope="col">Image</th>
                <th scope="col">PublisherEmail</th>
                <th scope="col">Books</th>
            </tr>
        </thead>
        <tbody>
            @foreach (Publisher p in (@List<Publisher>)ViewData["paginatedList"])
            {
                <tr>
                    <td class="table-active">@p.PublisherID</td>

                    <td class="table-primary">@p.PublisherName</td>
                    <td class="table-secondary">@p.Description</td>
                    <td class="table-success"><img src="~/Images/Publisher/" width="150" height="150" /></td>
                    <td class="table-danger">@p.Email</td>
                    <td class="table-danger">
                        @foreach (Book b in p.Books)
                        {
                            @b.BookTitle
                            if (b != p.Books.Last())
                            {
                                @Html.Raw(" - ")
                            }
                        }
                    </td>
                    @if (User.Identity.IsAuthenticated)
                    {
                        @if (User.IsInRole("Admin"))
                        {
                            <td>
                                <a asp-action="Edit" asp-controller="Publisher" asp-route="@p.PublisherID" class="btn btn-secondary btn-sm mr-1"><i class="fa fa-plus"></i>>Edit</a>
                                <a asp-action="Details" asp-controller="Publisher" asp-route="@p.PublisherID" class="btn btn-secondary btn-sm mr-1"><i class="fa fa-plus"></i>>Details</a>
                                <a asp-action="Delete" asp-controller="Publisher" asp-route="@p.PublisherID" class="btn btn-secondary btn-sm mr-1"><i class="fa fa-plus"></i>>Delete</a>
                            </td>
                        }
                        @if (User.IsInRole("Teacher"))
                        {
                            <td>
                                <a asp-action="Edit" asp-controller="Publisher" asp-route="@p.PublisherID" class="btn btn-secondary btn-sm mr-1"><i class="fa fa-plus"></i>>Edit</a>
                                <a asp-action="Details" asp-controller="Publisher" asp-route="@p.PublisherID" class="btn btn-secondary btn-sm mr-1"><i class="fa fa-plus"></i>>Details</a>
                            </td>
                        }
                        @if (User.IsInRole("Student"))
                        {
                            <td>
                                <a asp-action="Details" asp-controller="Publisher" asp-route="@p.PublisherID" class="btn btn-secondary btn-sm mr-1"><i class="fa fa-plus"></i>>Details</a>
                            </td>
                        }
                    }
                    @*There exist code we write untill we reach the identity  the links of users and the admin should
                maintain and the user outside the system the links excepected on one row
                *@
                </tr>
            }
        </tbody>
    </table>
</div>
<!-- Pagination controls using tag helpers -->
@if ((int)ViewData["TotalPages"] > 1)
{
    <div>
        <nav aria-label="Page navigation">
            <ul class="pagination">
                @for (int i = 1; i <= (int)ViewData["TotalPages"]; i++)
                {
                    <li class="page-item @(i == (int)ViewData["PageNumber"] ? "active" : "")">
                        <a class="page-link" asp-controller="Publisher" asp-action="Index">@i</a>
                    </li>
                }
            </ul>
        </nav>
    </div>
}